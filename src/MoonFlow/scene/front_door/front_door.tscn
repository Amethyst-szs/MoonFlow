[gd_scene load_steps=24 format=3 uid="uid://qcjh1t51akmr"]

[ext_resource type="Script" path="res://scene/front_door/FrontDoor.cs" id="1_plewj"]
[ext_resource type="Texture2D" uid="uid://dnas6epfjca3m" path="res://asset/app/icon/front_door.png" id="2_jf1ga"]
[ext_resource type="Texture2D" uid="uid://q3nk4e6vew7r" path="res://iconTxt.png" id="3_2iugp"]
[ext_resource type="Shader" path="res://asset/shader/gradient/gradient_step.gdshader" id="3_etpfy"]
[ext_resource type="Theme" uid="uid://bjqkhcyimcs7y" path="res://asset/theme/front_door/front_door.tres" id="4_lmulx"]
[ext_resource type="StyleBox" uid="uid://c4tgqlb0ttacc" path="res://asset/theme/front_door/stylebox/front_door_panel_background.tres" id="5_a75k4"]
[ext_resource type="Texture2D" uid="uid://cpbi4wkt4nu1l" path="res://asset/material/file/add.svg" id="6_clkik"]
[ext_resource type="Script" path="res://scene/front_door/ui/front_door_background_animator.gd" id="6_cmu6i"]
[ext_resource type="Script" path="res://scene/front_door/quickbar_error_label.gd" id="9_mpvuk"]
[ext_resource type="Texture2D" uid="uid://c8c0n0e4fw7mk" path="res://asset/material/file/open_new.svg" id="10_rxr5w"]
[ext_resource type="Texture2D" uid="uid://cwis7h5dommn3" path="res://asset/app/icon/romfs_accessor_config.png" id="10_sqwg3"]
[ext_resource type="PackedScene" uid="uid://c5b01vfsh7pwp" path="res://scene/home/home.tscn" id="11_ajwfd"]
[ext_resource type="PackedScene" uid="uid://dwpxrep18y4wy" path="res://scene/front_door/dot/playable.tscn" id="11_h3uc8"]
[ext_resource type="Texture2D" uid="uid://dj4axx0d5mbe4" path="res://asset/material/file/recent.svg" id="11_t4cui"]
[ext_resource type="PackedScene" uid="uid://cio2gvsywxhso" path="res://scene/front_door/load/project_loading.tscn" id="12_my55f"]
[ext_resource type="Script" path="res://scene/front_door/menu_recent.gd" id="12_uh126"]
[ext_resource type="Texture2D" uid="uid://cjpqxf5df6rr2" path="res://asset/app/icon/credit.png" id="14_mr0wr"]
[ext_resource type="Texture2D" uid="uid://evl66l6xykck" path="res://asset/app/icon/update.png" id="15_h6jnw"]
[ext_resource type="Script" path="res://scene/front_door/button_update.gd" id="16_8ntwn"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_kq5y5"]
shader = ExtResource("3_etpfy")
shader_parameter/first_color = Color(0.137255, 0.184314, 0.262745, 1)
shader_parameter/second_color = Color(0.054902, 0.0745098, 0.105882, 1)
shader_parameter/position = 0.5
shader_parameter/color_angle = 1.571
shader_parameter/stepIntensify = 12

[sub_resource type="LabelSettings" id="LabelSettings_bjmaa"]
font_color = Color(1, 0.23, 0.23, 1)

[sub_resource type="LabelSettings" id="LabelSettings_8xr1l"]
line_spacing = 0.0
font_size = 11
font_color = Color(0.8, 0.8, 0.8, 0.607843)

[sub_resource type="GDScript" id="GDScript_fdlxl"]
script/source = "extends Label

var ver: String = preload(\"res://version/data.gd\").VERSION

func _ready() -> void:
	var n: String = ProjectSettings.get_setting(\"application/config/name\", \"MoonFlow\")
	
	text += \"%s\\n\" % ver
	text += \"%s (%s)\\n\" % [n, DisplayServer.get_name()]
	text += \"%s (%s)\" % [Engine.get_version_info()[\"string\"], Engine.get_architecture_name()]
"

[node name="FrontDoor" type="Control"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("1_plewj")
AppName = "FrontDoor"
AppTaskbarTitle = "Welcome"
AppIcon = ExtResource("2_jf1ga")
AppFlags = 6

[node name="Content" type="PanelContainer" parent="."]
material = SubResource("ShaderMaterial_kq5y5")
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme = ExtResource("4_lmulx")
theme_override_styles/panel = ExtResource("5_a75k4")
script = ExtResource("6_cmu6i")

[node name="Quickbar" type="VBoxContainer" parent="Content"]
layout_mode = 2
size_flags_horizontal = 0
size_flags_vertical = 0
theme_override_constants/separation = 20

[node name="Texture_Logo" type="TextureRect" parent="Content/Quickbar"]
custom_minimum_size = Vector2(256, 0)
layout_mode = 2
texture = ExtResource("3_2iugp")
expand_mode = 5
stretch_mode = 5

[node name="HSeparator" type="HSeparator" parent="Content/Quickbar"]
layout_mode = 2

[node name="Button_New" type="Button" parent="Content/Quickbar"]
layout_mode = 2
mouse_default_cursor_shape = 2
text = "NEW_PROJECT"
icon = ExtResource("6_clkik")
icon_alignment = 2

[node name="Label_NewError" type="Label" parent="Content/Quickbar"]
unique_name_in_owner = true
visible = false
custom_minimum_size = Vector2(64, 0)
layout_mode = 2
label_settings = SubResource("LabelSettings_bjmaa")
horizontal_alignment = 1
autowrap_mode = 3
script = ExtResource("9_mpvuk")

[node name="Button_Open" type="Button" parent="Content/Quickbar"]
layout_mode = 2
mouse_default_cursor_shape = 2
text = "OPEN_PROJECT"
icon = ExtResource("10_rxr5w")
icon_alignment = 2

[node name="Label_OpenError" type="Label" parent="Content/Quickbar"]
unique_name_in_owner = true
visible = false
custom_minimum_size = Vector2(64, 0)
layout_mode = 2
label_settings = SubResource("LabelSettings_bjmaa")
horizontal_alignment = 1
autowrap_mode = 3
script = ExtResource("9_mpvuk")

[node name="Menu_Recent" type="MenuButton" parent="Content/Quickbar"]
layout_mode = 2
mouse_default_cursor_shape = 2
text = "RECENT_PROJECTS"
icon = ExtResource("11_t4cui")
flat = false
icon_alignment = 2
item_count = 1
popup/item_0/text = "FRONT_DOOR_RECENT_PROJECTS_CLEAR_HISTORY"
script = ExtResource("12_uh126")

[node name="Shortcuts" type="HBoxContainer" parent="Content"]
layout_mode = 2
size_flags_vertical = 10
theme_override_constants/separation = 12

[node name="Button_RomfsConfig" type="Button" parent="Content/Shortcuts"]
layout_mode = 2
tooltip_text = "BUTTON_TOOLTIP_OPEN_ROMFS_CONFIG"
icon = ExtResource("10_sqwg3")

[node name="Button_Contributors" type="Button" parent="Content/Shortcuts"]
layout_mode = 2
tooltip_text = "BUTTON_TOOLTIP_OPEN_CREDITS_PAGE"
icon = ExtResource("14_mr0wr")

[node name="Button_Update" type="Button" parent="Content/Shortcuts"]
layout_mode = 2
tooltip_text = "BUTTON_TOOLTIP_OPEN_GITHUB_FOR_UPDATE"
icon = ExtResource("15_h6jnw")
script = ExtResource("16_8ntwn")

[node name="HTTPRequest" type="HTTPRequest" parent="Content/Shortcuts/Button_Update"]
use_threads = true

[node name="DotPlayable" type="Control" parent="."]
layout_mode = 1
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_top = -64.0
offset_bottom = -64.0
grow_horizontal = 2
grow_vertical = 0
scale = Vector2(2, 2)
mouse_filter = 1

[node name="DotPlayable" parent="DotPlayable" instance=ExtResource("11_h3uc8")]

[node name="Label_Debug" type="Label" parent="."]
layout_mode = 1
anchors_preset = -1
anchor_left = 0.99
anchor_top = 0.99
anchor_right = 0.99
anchor_bottom = 0.99
grow_horizontal = 0
grow_vertical = 0
size_flags_horizontal = 8
size_flags_vertical = 8
label_settings = SubResource("LabelSettings_8xr1l")
horizontal_alignment = 2
vertical_alignment = 2
script = SubResource("GDScript_fdlxl")

[node name="Dialog_NewProject" type="FileDialog" parent="."]
auto_translate_mode = 1
title = "Open a Directory"
size = Vector2i(352, 180)
ok_button_text = "Select Current Folder"
file_mode = 2
access = 2
use_native_dialog = true

[node name="Dialog_OpenProject" type="FileDialog" parent="."]
title = "Open a Directory"
ok_button_text = "Select Current Folder"
file_mode = 2
access = 2
use_native_dialog = true

[node name="ResourcePreloader" type="ResourcePreloader" parent="."]
resources = [PackedStringArray("home", "project_loading"), [ExtResource("11_ajwfd"), ExtResource("12_my55f")]]

[connection signal="OpenProject" from="." to="Content/Quickbar/Menu_Recent" method="_on_front_door_open_project"]
[connection signal="pressed" from="Content/Quickbar/Button_New" to="Dialog_NewProject" method="popup"]
[connection signal="pressed" from="Content/Quickbar/Button_Open" to="Dialog_OpenProject" method="popup"]
[connection signal="open_recent_project" from="Content/Quickbar/Menu_Recent" to="." method="OnDialogOpenProjectPathSelected"]
[connection signal="pressed" from="Content/Shortcuts/Button_RomfsConfig" to="." method="ForceOpenRomfsAccessorApp"]
[connection signal="pressed" from="Content/Shortcuts/Button_Contributors" to="." method="OpenContributorPage"]
[connection signal="request_completed" from="Content/Shortcuts/Button_Update/HTTPRequest" to="Content/Shortcuts/Button_Update" method="_on_request_completed"]
[connection signal="dir_selected" from="Dialog_NewProject" to="." method="OnDialogNewProjectPathSelected"]
[connection signal="dir_selected" from="Dialog_OpenProject" to="." method="OnDialogOpenProjectPathSelected"]
